SkyEngineSpine.Node=CLASS({preset:()=>{return SkyEngine.Node},init:(n,e,t)=>{let i=t.json,o=t.atlas,a=t.png,s=t.animation,c=t.skin,d=t.mixInfos;void 0===c&&(c="default");let r,u,f;PARALLEL([n=>{let e=RAR(()=>{GET(i,{error:()=>{e()},success:e=>{u=JSON.parse(e),n()}})})},n=>{let e=RAR(()=>{GET(o,{error:()=>{e()},success:e=>{f=e,n()}})})},()=>{SkyEngine.LoadTexture(a,n=>{if(e.checkIsRemoved()!==!0){let t=new PIXI.spine.core.TextureAtlas(f,(e,t)=>{t(n.baseTexture)}),i=new PIXI.spine.core.AtlasAttachmentLoader(t),o=new PIXI.spine.core.SkeletonJson(i);r=new PIXI.spine.Spine(o.readSkeletonData(u)),r.skeleton.setSkinByName(c),r.state.setAnimation(0,s,!0),void 0!==d&&EACH(d,n=>{r.stateData.setMixByName(n.from,n.to,n.duration)}),r.zIndex=-9999999,r.blendMode=SkyEngine.Util.BlendMode.getPixiBlendMode(e.getBlendMode()),r.state.addListener({event:(n,t)=>{e.fireEvent(t.data.name)},complete:()=>{e.fireEvent("animationend")}}),e.addToPixiContainer(r),e.fireEvent("load")}})}]);e.changeSkin=(n=>{c=n,void 0!==r&&r.skeleton.setSkinByName(c)}),e.changeAnimation=(n=>{s=n,void 0!==r&&(r.state.setAnimation(0,s,!0),r.state.apply(r.skeleton),r.skeleton.updateWorldTransform())}),e.getAnimation=(()=>{return s}),e.setAttachment=(n=>{let e=n.slot,t=n.attachment;r.skeleton.setAttachment(e,t)})}});